<!DOCTYPE html>
<html ng-app="myApp">
<head>
	<title>CRUD AngularJS</title>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular.min.js"></script>
</head>
<body ng-controller="MainCtrl as ctrl">
<form ng-submit="ctrl.submit()">
	Nome<br>
	<input type="text" ng-model="ctrl.user.nome"><br>
	Email<br>
	<input type="text" ng-model="ctrl.user.email"><br>
	Senha<br>
	<input type="password" ng-model="ctrl.user.senha"><br>
	<input type="submit" id="submit" value="Submit" />
</form>

<script type="text/javascript">
	angular.module('myApp', [])
		.controller('MainCtrl', ['$scope', '$http', function($scope, $http){
			$scope.list = [];
			var self = this;
			self.submit = function() {
			  console.log('User clicked submit with ', self.user);
				$http.post('php/salvar.php', {'nome': $scope.nome, 'email': $scope.email, 'senha': $scope.senha}).
				//console.log('User clicked submit with ', self.user);
				then(function(response) {
					console.log(response.status);
					console.log(response.msg);

				  }, function(response) {
				  	console.log(response.status);
				  	console.log(response.msg);

				  });

				/*.success(function(data, status, headers, config){
					console.log('Success '+data.status);

				})
				.error( function(data, status){
					console.log('Error '+data.status);

				});*/
			}
		//}
	}]);
</script>
</body>
</html>
